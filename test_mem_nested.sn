log("Testing nested memory access...")

let explorer_procs = mem_find_process("explorer.exe")
if (len(explorer_procs) > 0) {
    let proc = explorer_procs[0]
    log("Found explorer.exe: PID " + str(proc["pid"]))
    
    // Get detailed process information
    let detailed = mem_get_process_info(proc["pid"])
    if (detailed) {
        log("  Path: " + detailed["path"])
        log("  Command Line: " + detailed["command_line"])
        log("  Parent PID: " + str(detailed["parent_pid"]))
        
        // Memory information
        log("Checking for memory field...")
        if (detailed["memory"]) {
            log("Memory field exists")
            let mem = detailed["memory"]
            log("Got memory object: " + type(mem))
            log("  Working Set: " + str(mem["working_set_size"]) + " bytes")
            log("  Virtual Size: " + str(mem["virtual_size"]) + " bytes")
        } else {
            log("No memory field")
        }
    }
} else {
    log("Explorer.exe not found")
}

log("Test completed!")