log("=== Simple Concurrency Test ===")

// Test basic worker pool creation
if (conc_create_worker_pool("test_pool", 2, 10)) {
    log("✓ Worker pool created")
    conc_start_worker_pool("test_pool")
    log("✓ Worker pool started")
}

// Test basic rate limiter
if (conc_create_rate_limiter("test_limiter", 10, 5)) {
    log("✓ Rate limiter created")
}

// Submit a few test jobs
let i = 0
while i < 3 {
    conc_submit_job("test_pool", "job_" + str(i), "scan_port", {"host": "127.0.0.1", "port": 80 + i})
    log("→ Submitted job " + str(i))
    i = i + 1
}

// Simple metrics check
let metrics = conc_get_metrics()
log("Active pools: " + str(metrics["worker_pools_active"]))

log("✅ Simple concurrency test complete!")